(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-submit_order-submit_order"],{"1f11":function(t,i,e){"use strict";e.r(i);var a=e("f974"),s=e("75b4");for(var d in s)["default"].indexOf(d)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(d);e("7ef5");var n=e("f0c5"),o=Object(n["a"])(s["default"],a["b"],a["c"],!1,null,"045ed392",null,!1,a["a"],void 0);i["default"]=o.exports},"75b4":function(t,i,e){"use strict";e.r(i);var a=e("e21d"),s=e.n(a);for(var d in a)["default"].indexOf(d)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(d);i["default"]=s.a},"7ef5":function(t,i,e){"use strict";var a=e("d59c"),s=e.n(a);s.a},bb41:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'.container[data-v-045ed392]{padding-bottom:%?98?%}.tui-box[data-v-045ed392]{padding:%?20?% 0 %?118?%;box-sizing:border-box}.tui-address[data-v-045ed392]{min-height:%?80?%;padding:%?10?% 0;box-sizing:border-box;position:relative}.tui-userinfo[data-v-045ed392]{font-size:%?30?%;font-weight:500;line-height:%?30?%;padding-bottom:%?12?%}.tui-name[data-v-045ed392]{padding-right:%?40?%}.tui-addr[data-v-045ed392]{font-size:%?24?%;word-break:break-all;padding-right:%?25?%}.tui-addr-tag[data-v-045ed392]{padding:%?5?% %?8?%;flex-shrink:0;background:#eb0909;color:#fff;display:inline-flex;align-items:center;justify-content:center;font-size:%?25?%;line-height:%?25?%;-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:0 center;transform-origin:0 center;border-radius:%?6?%}.tui-bg-img[data-v-045ed392]{position:absolute;width:100%;height:%?8?%;left:0;bottom:0;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL0AAAAECAMAAADszM6/AAAAOVBMVEUAAAAVqfH/fp//vWH/vWEVqfH/fp8VqfH/fp//vWEVqfH/fp8VqfH/fp//vWH/vWEVqfH/fp//vWHpE7b6AAAAEHRSTlMA6urqqlVVFRUVq6upqVZUDT4vVAAAAEZJREFUKM/t0CcOACAQRFF6r3v/w6IQJGwyDsPT882IQzQE0E3chToByjG5LwMgLZN3TQATmdypCciBya0cgOT3/h//9PgF49kd+6lTSIIAAAAASUVORK5CYII=") repeat}.tui-top[data-v-045ed392]{margin-top:%?20?%;overflow:hidden}.tui-goods-title[data-v-045ed392]{font-size:%?28?%;display:flex;align-items:center}.tui-padding[data-v-045ed392]{box-sizing:border-box}.tui-goods-item[data-v-045ed392]{width:100%;padding:%?20?% %?30?%;box-sizing:border-box;display:flex;justify-content:space-between}.tui-goods-img[data-v-045ed392]{width:%?180?%;height:%?180?%;display:block;flex-shrink:0}.tui-goods-center[data-v-045ed392]{flex:1;padding:%?20?% %?8?%;box-sizing:border-box}.tui-goods-name[data-v-045ed392]{max-width:%?310?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-size:%?26?%;line-height:%?32?%}.tui-goods-attr[data-v-045ed392]{font-size:%?22?%;color:#888;line-height:%?32?%;padding-top:%?20?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.tui-price-right[data-v-045ed392]{text-align:right;font-size:%?24?%;color:#888;line-height:%?30?%;padding-top:%?20?%}.tui-flex[data-v-045ed392]{width:100%;display:flex;align-items:center;justify-content:space-between;font-size:%?26?%}.tui-total-flex[data-v-045ed392]{justify-content:flex-end}.tui-color-red[data-v-045ed392],\n.tui-invoice-text[data-v-045ed392]{color:#e41f19;padding-right:%?30?%}.tui-balance[data-v-045ed392]{font-size:%?28?%;font-weight:500}.tui-black[data-v-045ed392]{color:#222;line-height:%?30?%}.tui-gray[data-v-045ed392]{color:#888;font-weight:400}.tui-light-dark[data-v-045ed392]{color:#666}.tui-goods-price[data-v-045ed392]{display:flex;align-items:center;padding-top:%?20?%}.tui-size-26[data-v-045ed392]{font-size:%?26?%;line-height:%?26?%}.tui-price-large[data-v-045ed392]{font-size:%?34?%;line-height:%?32?%;font-weight:600}.tui-flex-end[data-v-045ed392]{display:flex;align-items:flex-end;padding-right:0}.tui-phcolor[data-v-045ed392]{color:#b3b3b3;font-size:%?26?%}\n.tui-remark-box[data-v-045ed392]{padding:%?26?% %?30?%}\n.tui-remark[data-v-045ed392]{flex:1;font-size:%?26?%;padding-left:%?64?%}.tui-scale-small[data-v-045ed392]{-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:100% center;transform-origin:100% center}.tui-scale-small .wx-switch-input[data-v-045ed392]{margin:0!important}\n[data-v-045ed392] uni-switch .uni-switch-input{margin-right:0!important}\n.tui-tabbar[data-v-045ed392]{width:100%;height:%?98?%;background:#fff;position:fixed;left:0;bottom:0;display:flex;align-items:center;justify-content:flex-end;font-size:%?26?%;box-shadow:0 0 1px rgba(0,0,0,.3);padding-bottom:env(safe-area-inset-bottom);z-index:999}.tui-pr-30[data-v-045ed392]{padding-right:%?30?%}.tui-pr-20[data-v-045ed392]{padding-right:%?20?%}.tui-none-addr[data-v-045ed392]{height:%?80?%;padding-left:%?5?%;display:flex;align-items:center}.tui-addr-img[data-v-045ed392]{width:%?36?%;height:%?46?%;display:block;margin-right:%?15?%}.tui-pr25[data-v-045ed392]{padding-right:%?25?%}.tui-safe-area[data-v-045ed392]{height:%?1?%;padding-bottom:env(safe-area-inset-bottom)}',""]),t.exports=i},d59c:function(t,i,e){var a=e("bb41");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("42a64496",a,!0,{sourceMap:!1,shadowMode:!1})},e21d:function(t,i,e){"use strict";(function(t){e("7a82");var a=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e("8c17")),d=a(e("9b78")),n=a(e("1206")),o={components:{tuiButton:s.default,tuiListCell:d.default,tuiBottomPopup:n.default},data:function(){return{app:this.app,list:[],sum:{},order_no:"",product_id:"",product_spec_id:"",product_count:1,address:{},hasCoupon:!0,insufficient:!1}},methods:{onInputAddress:function(t){var i=this.app.ed(t).key;this.address[i]=this.app.ev(t)},chooseAddr:function(){uni.navigateTo({url:"../address/address"})},btnPay:function(){var t=this;this.address.user_name?this.order_no?this.pay():this.app.post("api/order/cre_order",{json:this.app.toJson(this.list),address:this.app.toJson(this.address)},(function(i){t.list=i.list,t.sum=i.sum,t.order_no=i.order_no,t.address=i.address,t.pay()})):this.app.toast("请选择收获地址")},pay:function(){var i=this;t("log","调用支付"," at pages/index/submit_order/submit_order.vue:175");sum.sum_price;this.app.post("api/order/pay_finish",{order_no:this.order_no,is_clean:"0"},(function(t){i.app.toast("支付成功"),i.app.go("./pay_finish",{order_no:t.order_no})}))}},onLoad:function(t){t.order_no&&(this.order_no=t.order_no),t.product_spec_id&&(this.product_spec_id=t.product_spec_id),t.product_id&&(this.product_id=t.product_id),t.product_count&&(this.product_count=t.product_count)},onShow:function(){var t=this;this.order_no?this.app.post("api/order/find_order",{order_no:this.order_no},(function(i){t.list=i.list,t.sum=i.sum,i.address&&(t.address=i.address)})):this.product_spec_id?this.app.post("api/order/pre_order_float",{product_spec_id:this.product_spec_id,product_count:this.product_count},(function(i){t.list=i.list,t.sum=i.sum,i.address&&(t.address=i.address)})):this.product_id?this.app.post("api/order/pre_order_float",{product_id:this.product_id,product_count:this.product_count},(function(i){t.list=i.list,t.sum=i.sum,i.address&&(t.address=i.address)})):this.app.post("api/order/pre_order",{},(function(i){t.list=i.list,t.sum=i.sum,i.address&&(t.address=i.address)}))}};i.default=o}).call(this,e("0de9")["log"])},f974:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"tui-box"},[a("tui-list-cell",{attrs:{arrow:!0,last:!0,radius:!0},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseAddr.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"tui-address"},[t.address.user_name?a("v-uni-view",[a("v-uni-view",{staticClass:"tui-userinfo"},[a("v-uni-text",{staticClass:"tui-name"},[t._v(t._s(t.address.user_name))]),t._v(t._s(t.address.tel_number))],1),a("v-uni-view",{staticClass:"tui-addr"},["1"==t.address.check?a("v-uni-view",{staticClass:"tui-addr-tag"},[t._v("默认")]):t._e(),a("v-uni-view",{staticClass:"tui-addr-tag"},[t._v(t._s(t.address.tag))]),a("v-uni-text",[t._v(t._s(t.address.detail_info))])],1)],1):a("v-uni-view",{staticClass:"tui-none-addr"},[a("v-uni-image",{staticClass:"tui-addr-img",attrs:{src:e("11ca"),mode:"widthFix"}}),a("v-uni-text",[t._v("选择收货地址")])],1)],1),a("v-uni-view",{staticClass:"tui-bg-img"})],1),a("v-uni-view",{staticClass:"tui-top tui-goods-info"},[a("tui-list-cell",{attrs:{hover:!1,lineLeft:!1}},[a("v-uni-view",{staticClass:"tui-goods-title"},[t._v("商品信息")])],1),t._l(t.list,(function(i,e){return[a("tui-list-cell",{key:e+"_0",attrs:{hover:!1,padding:"0"}},[a("v-uni-view",{staticClass:"tui-goods-item"},[a("v-uni-image",{staticClass:"tui-goods-img",attrs:{src:t.app.upload+i.img}}),a("v-uni-view",{staticClass:"tui-goods-center"},[a("v-uni-view",{staticClass:"tui-goods-name"},[t._v(t._s(i.title))]),a("v-uni-view",{staticClass:"tui-goods-attr"},[t._v(t._s(i.spec_name))])],1),a("v-uni-view",{staticClass:"tui-price-right"},[a("v-uni-view",[t._v("￥"+t._s(i.price))]),a("v-uni-view",[t._v("x"+t._s(i.product_count))])],1)],1)],1)]})),a("tui-list-cell",{attrs:{hover:!1}},[a("v-uni-view",{staticClass:"tui-padding tui-flex"},[a("v-uni-view",[t._v("商品总额")]),a("v-uni-view",[t._v("￥"+t._s(t.sum.sum_price))])],1)],1),a("tui-list-cell",{attrs:{hover:!1,lineLeft:!1,padding:"0"}},[a("v-uni-view",{staticClass:"tui-remark-box tui-padding tui-flex"},[a("v-uni-view",[t._v("订单备注")]),a("v-uni-input",{staticClass:"tui-remark",attrs:{"data-key":"order_remark",type:"text",placeholder:"选填: 请先和商家协商一致","placeholder-class":"tui-phcolor"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.onInputAddress.apply(void 0,arguments)}}})],1)],1),a("tui-list-cell",{attrs:{hover:!1,last:!0}},[a("v-uni-view",{staticClass:"tui-padding tui-flex tui-total-flex"},[a("v-uni-view",{staticClass:"tui-flex-end tui-color-red"},[a("v-uni-view",{},[t._v("合计：")]),a("v-uni-view",{staticClass:"tui-size-26"},[t._v("￥")]),a("v-uni-view",{staticClass:"tui-price-large"},[t._v(t._s(t.sum.sum_price))])],1)],1)],1)],2)],1),a("v-uni-view",{staticClass:"tui-safe-area"}),a("v-uni-view",{staticClass:"tui-tabbar"},[a("v-uni-view",{staticClass:"tui-flex-end tui-color-red tui-pr-20"},[a("v-uni-view",{},[t._v("实付金额:")]),a("v-uni-view",{staticClass:"tui-size-26"},[t._v("￥")]),a("v-uni-view",{staticClass:"tui-price-large"},[t._v(t._s(t.sum.sum_price))])],1),a("v-uni-view",{staticClass:"tui-pr25"},[a("tui-button",{attrs:{width:"200rpx",height:"70rpx",type:"danger",shape:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.btnPay.apply(void 0,arguments)}}},[t._v("确认支付")])],1)],1)],1)},s=[]}}]);