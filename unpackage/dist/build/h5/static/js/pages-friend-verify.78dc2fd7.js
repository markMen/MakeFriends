(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-friend-verify"],{"05e2":function(t,e,i){"use strict";i.r(e);var n=i("9d91"),a=i("5be0");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("5dec");var s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"721ce0a9",null,!1,n["a"],void 0);e["default"]=c.exports},"155f":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"tui-searchbox"},[i("v-uni-view",{staticClass:"tui-search-input"},["left"==t.type||"center"==t.type&&null!=t.search_text&&""!=t.search_text?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSearch.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:"search",size:16,color:"#333"}})],1):t._e(),i("v-uni-input",{staticClass:"tui-input",class:["center"==t.type?"text-center":""],attrs:{"confirm-type":"text",placeholder:t.placeholder,"placeholder-class":"tui-input-plholder"},model:{value:t.search_text,callback:function(e){t.search_text="string"===typeof e?e.trim():e},expression:"search_text"}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.search_text,expression:"search_text"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cleanSearchText.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:"close-fill",size:16,color:"#bcbcbc"}})],1)],1),null!=t.search_text&&""!=t.search_text?i("v-uni-view",{staticClass:"tui-cancle",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSearch.apply(void 0,arguments)}}},[t._v("搜索")]):t._e()],1)],1)},a=[]},"1a54":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("14d9");var a=n(i("2ac2")),o=n(i("9b78")),s=n(i("3232")),c=n(i("9d99")),l=(i("9c4c"),{components:{tuiIcon:a.default,tuiCell:o.default,viveModalMenu:s.default,viveBackTop:c.default},computed:{last:function(){return function(t,e){return t.length-1==e}}},data:function(){return{lists:[],touchmove:!1,touchmoveIndex:-1,titleHeight:0,indexBarHeight:0,indexBarItemHeight:0,scrollViewId:"",winHeight:0,search_text:"",list_count:"",modal_menu:["删除","多选","取消"],selected:null,menu_text:"",top_flag:!1}},onLoad:function(t){var e=this;setTimeout((function(){uni.getSystemInfo({success:function(t){var i=t.windowHeight,n=i-uni.upx2px(232);e.winHeight=i,e.indexBarHeight=n,e.indexBarItemHeight=n/25,e.titleHeight=uni.upx2px(132)}})}),10),this.app.setTitle("新加入的好友")},onShow:function(){this.app.checkUser(),this.onSearch()},methods:{cleanSearchText:function(){this.search_text="",this.onSearch()},touchStart:function(t){this.touchmove=!0;var e=t.touches[0].pageY,i=Math.floor((e-this.titleHeight)/this.indexBarItemHeight),n=this.lists[i];n&&(this.scrollViewId=n.letter,this.touchmoveIndex=i)},touchMove:function(t){var e=t.touches[0].pageY,i=Math.floor((e-this.titleHeight)/this.indexBarItemHeight),n=this.lists[i];n&&(this.scrollViewId=n.letter,this.touchmoveIndex=i)},touchEnd:function(){this.touchmove=!1,this.touchmoveIndex=-1},touchCancel:function(){this.touchmove=!1,this.touchmoveIndex=-1},search:function(){uni.navigateTo({url:"../news-search/news-search"})},detail:function(t){var e=this.app.ed(t).user_id;this.app.go("/pages/message/chat",{user_id:e})},onSearch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.search_text=e,this.app.post("api/chat_contact/list_group_add",{search_text:this.search_text},(function(e){var i=e.list;for(var n in i)i[n].is_check="0";t.lists=i,t.list_count=e.list_count}))},onOkVerify:function(t){var e=this,i=this.app.ed(t).creby_you;this.app.post("api/chat_contact/verify",{user_id:i},(function(t){t.code,e.app.toast(t.data),e.onSearch()}))},onUserDetail:function(t){var e=this.app.ed(t).id;this.app.go("/pages/index/detail/detail",{user_id:e})},onDel:function(t){var e=this,i=this.app.ed(t).id;this.app.msgSys("确定删除",(function(t){t&&e.app.post("api/chat_contact/del_verify",{id:i},(function(t){e.app.toast(t.data),e.onSearch()}))}))},onMenuInvoke:function(t){var e=this,i=t.index,n=this.modal_menu[i];if(this.menu_text=n,"删除"==n){var a=this.selected.id,o=this.selected.nickname;this.app.msgSys("确定删除 "+o,(function(t){t&&e.app.post("api/chat_contact/del_verify",{id:a},(function(t){e.app.toast(t.data),e.onSearch()})),e.selected=null}))}else"多选"==n&&(this.selected=null)},onDetailLong:function(t){this.selected=this.lists[this.app.ed(t).index]},onMenuClose:function(){this.selected=null},onAllOk:function(t){var e=this,i=[];for(var n in this.lists){var a=this.lists[n];"1"==a.is_check&&i.push({user_id:a.creby_you})}i.length<=0?this.app.toast("未选中"):this.app.msgSys("确定同意选中的好友",(function(n){if(n){e.app.ed(t).creby_you;e.app.post("api/chat_contact/verify_list",{json_user_id_list:e.app.toJson(i)},(function(t){t.code,e.app.toast(t.data),e.onSearch()}))}}))},onAllDel:function(t){var e=this,i=[];for(var n in this.lists){var a=this.lists[n];"1"==a.is_check&&i.push({id:a.id})}i.length<=0?this.app.toast("未选中"):this.app.msgSys("确定删除选中的好友请求",(function(t){t&&e.app.post("api/chat_contact/del_verify_list",{json_id_list:e.app.toJson(i)},(function(t){e.app.toast(t.data),e.onSearch()}))}))},onAllSelect:function(){var t=!1;for(var e in this.lists)if("1"!=this.lists[e].is_check){t=!0;break}if(t)for(var i in this.lists)this.lists[i].is_check="1";else for(var n in this.lists)this.lists[n].is_check="0"},onAllCancel:function(){this.selected=null,this.menu_text=""},onCheckChat:function(t){var e=this.app.ev(t)[0],i=this.app.ed(t).index;this.lists[i].is_check=e}},onPageScroll:function(t){this.top_flag=this.app.isTopFlag(t)}});e.default=l},3232:function(t,e,i){"use strict";i.r(e);var n=i("b706"),a=i("57c1");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("cacc");var s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"eaf91dba",null,!1,n["a"],void 0);e["default"]=c.exports},4015:function(t,e,i){var n=i("a8dc");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("b1a25568",n,!0,{sourceMap:!1,shadowMode:!1})},"4e5c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".modal-menu[data-v-eaf91dba]{width:100%;height:100%;position:fixed;top:0;z-index:100;background-color:rgba(0,0,0,.4)}.modal-menu-box[data-v-eaf91dba]{background-color:#f0f0f0;box-shadow:%?6?% %?6?% %?10?% #888}.modal-menu-item[data-v-eaf91dba]{padding:%?20?% %?80?%;border-top:rgba(51,51,51,.2) solid %?1?%}",""]),t.exports=e},"51f3":function(t,e,i){"use strict";i.r(e);var n=i("e16d"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"57c1":function(t,e,i){"use strict";i.r(e);var n=i("8e29"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"5be0":function(t,e,i){"use strict";i.r(e);var n=i("1a54"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"5dec":function(t,e,i){"use strict";var n=i("4015"),a=i.n(n);a.a},"852e":function(t,e,i){var n=i("4e5c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1b9c81f1",n,!0,{sourceMap:!1,shadowMode:!1})},"86d5":function(t,e,i){"use strict";i.r(e);var n=i("155f"),a=i("51f3");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"0f05072a",null,!1,n["a"],void 0);e["default"]=c.exports},"8e29":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"vive-modal-menu",props:{hidden:{type:Boolean,default:function(){return!1}},status:{type:String,default:"more"},menu:{type:Array,default:function(){return["置顶","取消"]}}},data:function(){return{}},methods:{onClick:function(e){var i=e.currentTarget.dataset.index;i==this.menu.length-1&&(this.hidden=!0,t("log","误报错：Avoid mutating a prop directly since the value will be overwritten "," at components/vive-modal-menu/vive-modal-menu.vue:41")),this.$emit("click",{index:i})},onClose:function(){this.hidden=!0,t("log","误报错：Avoid mutating a prop directly since the value will be overwritten "," at components/vive-modal-menu/vive-modal-menu.vue:49"),this.$emit("close",{})}}};e.default=n}).call(this,i("0de9")["log"])},"9d91":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={viveSearch:i("86d5").default,viveModalMenu:i("3232").default,viveBackTop:i("9d99").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-page"},[i("v-uni-view",{staticClass:"top search-top-up"},[i("vive-search",{attrs:{type:"left"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSearch.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"search-top-down"}),i("v-uni-view",{staticClass:"tui-list city-list cols"},t._l(t.lists,(function(e,n){return i("v-uni-view",{key:n,attrs:{"data-index":n,"data-id":e.user_id},on:{longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.onDetailLong.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onUserDetail.apply(void 0,arguments)}}},[i("tui-cell",{attrs:{last:t.last(t.lists,n)}},[i("v-uni-image",{staticClass:"avatar-wx-item",attrs:{src:e.avatar,mode:"scaleToFill"}}),i("v-uni-view",{staticClass:"tui-name box"},[i("v-uni-view",{staticClass:"cols"},[i("v-uni-text",[t._v(t._s(e.nickname))]),i("v-uni-view",{staticClass:"tui-msg-name text-sm text-color-9"},[t._v(t._s(e.bio))])],1),i("v-uni-view",{staticClass:"text-center-hv",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"rows"},[e.id_me?i("v-uni-button",{staticClass:"btn-main-dark btn-sm",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._v("已同意")]):i("v-uni-button",{staticClass:"btn-main btn-sm",attrs:{"data-creby_you":e.creby_you},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onOkVerify.apply(void 0,arguments)}}},[t._v("同意")]),"多选"==t.menu_text?i("v-uni-view",{staticClass:"pl"},[i("v-uni-checkbox-group",{attrs:{name:"is_check","data-index":n},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onCheckChat.apply(void 0,arguments)}}},[i("v-uni-label",{staticClass:"checkbox"},[i("v-uni-checkbox",{attrs:{value:"1",checked:"1"==e.is_check}})],1)],1)],1):t._e()],1)],1)],1)],1)],1)})),1),i("v-uni-view",{staticClass:"tui-footer"},[t._v(t._s(t.list_count)+"位历史好友")]),i("v-uni-view",{staticClass:"tui-safearea-bottom"}),"多选"==t.menu_text?i("v-uni-view",{staticClass:"bottom text-center-v bg-width",staticStyle:{"z-index":"1000",height:"100rpx"}},[i("v-uni-view",{staticClass:"full-width box-wrap-space-around"},[i("v-uni-button",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onAllOk.apply(void 0,arguments)}}},[t._v("同意")]),i("v-uni-button",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onAllDel.apply(void 0,arguments)}}},[t._v("删除")]),i("v-uni-button",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onAllSelect.apply(void 0,arguments)}}},[t._v("全选")]),i("v-uni-button",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onAllCancel.apply(void 0,arguments)}}},[t._v("取消")])],1)],1):t._e(),i("vive-modal-menu",{attrs:{hidden:null==t.selected,menu:t.modal_menu},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onMenuInvoke.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.onMenuClose.apply(void 0,arguments)}}}),i("vive-back-top",{attrs:{flag:t.top_flag}})],1)},o=[]},a8dc:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-721ce0a9]{background:#f5f6fa\n\t/* \t\theight: 100%;\n\toverflow: hidden; */}body.?%PAGE?%[data-v-721ce0a9]{background:#f5f6fa}.tui-page[data-v-721ce0a9]{\n\t/* \t\theight: 100%;\n\toverflow: hidden; */}.tui-scrollList[data-v-721ce0a9]{flex:1}\n\n/*searchbox*/.tui-searchbox[data-v-721ce0a9]{width:100%;height:%?100?%;padding:0 %?30?%;box-sizing:border-box;background:#fff;display:flex;align-items:center;justify-content:center;position:relative}.tui-search-input[data-v-721ce0a9]{width:100%;height:%?72?%;background:#f5f6fa;border-radius:%?36?%;font-size:%?30?%;color:#a8abb8;display:flex;align-items:center;justify-content:center}.tui-search-text[data-v-721ce0a9]{padding-left:%?16?%}\n\n/*searchbox*/.tui-cell-class[data-v-721ce0a9]::after{left:%?140?%!important}.tui-img[data-v-721ce0a9]{width:%?80?%;height:%?80?%;border-radius:50%}.tui-name[data-v-721ce0a9]{width:80%;padding-left:%?30?%;font-size:%?34?%;color:#333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.tui-list-cell-divider[data-v-721ce0a9]{height:%?66?%;padding-left:%?30?%;font-size:%?26?%;color:#555;background:#f5f6fa;padding:0 %?30?%;display:flex;align-items:center;font-weight:700}.tui-indexed-list-bar[data-v-721ce0a9]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;z-index:9999;position:absolute;top:%?132?%;right:0;padding-right:%?10?%;width:%?44?%;color:#555;font-weight:700}.tui-indexed-list-text[data-v-721ce0a9]{font-size:%?22?%}.tui-indexed-list-alert[data-v-721ce0a9]{position:absolute;z-index:20;width:%?120?%;height:%?120?%;right:%?90?%;top:50%;margin-top:%?-60?%;border-radius:%?24?%;font-size:%?50?%;color:#fff;background-color:rgba(0,0,0,.65);display:flex;justify-content:center;align-items:center;padding:0}.tui-indexed-list-alert uni-text[data-v-721ce0a9]{line-height:%?50?%}.tui-footer[data-v-721ce0a9]{padding:%?30?% 0;display:flex;align-items:center;justify-content:center;font-size:%?30?%;color:#999}.tui-safearea-bottom[data-v-721ce0a9]{width:100%;height:env(safe-area-inset-bottom)}",""]),t.exports=e},b706:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"modal-menu text-center-hv",attrs:{hidden:t.hidden},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClose.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"modal-menu-box "},t._l(t.menu,(function(e,n){return i("v-uni-button",{key:n,staticClass:"modal-menu-item",attrs:{"data-index":n},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t._v(t._s(e))])})),1)],1)},a=[]},cacc:function(t,e,i){"use strict";var n=i("852e"),a=i.n(n);a.a},e16d:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2ac2")),o={components:{tuiIcon:a.default},name:"viveSearch",props:{placeholder:{type:String,default:"请输入搜索内容"},type:{type:String,default:"left"}},data:function(){return{search_text:""}},methods:{onSearch:function(){this.$emit("click",this.search_text)},cleanSearchText:function(){this.search_text="",this.onSearch()}}};e.default=o}}]);