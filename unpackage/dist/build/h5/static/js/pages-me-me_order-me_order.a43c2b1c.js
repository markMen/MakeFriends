(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-me_order-me_order"],{"1679c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={tuiTabs:i("1c68").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("tui-tabs",{attrs:{tabs:t.tabs,isFixed:t.scrollTop>=0,currentTab:t.currentTab,selectedColor:"#4dabeb",sliderBgColor:"#4dabeb"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}}),i("v-uni-view",{class:{"tui-order-list":t.scrollTop>=0}},t._l(t.page.data,(function(e,a){return i("v-uni-view",{key:a,staticClass:"mm pp",class:["0"==e.is_see?"red-order-bg":""]},[i("v-uni-view",{attrs:{hover:!1,lineLeft:!1}},[i("v-uni-view",{staticClass:"tui-goods-title "},[i("v-uni-view",[t._v("订单号："),i("v-uni-text",{attrs:{selectable:"true"}},[t._v(t._s(e.order_no))])],1),i("v-uni-view",{staticClass:"tui-order-status"},[t._v(t._s(t.getStatusText(e.state)))])],1)],1),i("v-uni-view",{attrs:{padding:"0","data-index":a},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.detail.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-goods-item"},[i("v-uni-image",{staticClass:"goods-img-avatar",attrs:{src:e.you.avatar}}),i("v-uni-view",{staticClass:"tui-goods-center "},[i("v-uni-view",{staticClass:"tui-goods-name"},[t._v(t._s(e.you.phone))]),i("v-uni-view",{staticClass:"goods-img-avatar-text"},[t._v(t._s(e.you.company_name)+" "+t._s(e.you.company_server_name))])],1),i("v-uni-view",{staticClass:"tui-price-right"},[i("v-uni-view",[t._v("￥"+t._s(e.price))]),i("v-uni-view",[t._v("x"+t._s(e.product_count))])],1)],1)],1),i("v-uni-view",{attrs:{hover:!1,last:!0}},[i("v-uni-view",{staticClass:"tui-goods-price"},[i("v-uni-view",[t._v("共"+t._s(e.product_count)+"件商品 合计：")]),i("v-uni-view",{staticClass:"tui-size-24"},[t._v("￥")]),i("v-uni-view",{staticClass:"tui-price-large"},[t._v(t._s(e.sum_price))])],1)],1),i("v-uni-view",{staticClass:"rows-wrap-reverse mt"},[i("v-uni-view",{staticClass:"tui-btn-ml",attrs:{"data-sale_id":e.sale_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onProductDetail.apply(void 0,arguments)}}},[i("tui-button",{attrs:{type:"danger",plain:!0,width:"188rpx",height:"56rpx",size:26,shape:"circle"}},[t._v("进入商家主页")])],1),"3"==e.state?i("v-uni-view",{staticClass:"tui-btn-ml",attrs:{"data-index":a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setOrderState.apply(void 0,arguments)}}},[i("tui-button",{attrs:{type:"black",plain:!0,width:"148rpx",height:"56rpx",size:26,shape:"circle"}},[t._v("完成订单")])],1):t._e()],1)],1)})),1),i("tui-loadmore",{attrs:{visible:t.page.isLoad,index:3,type:"primary"}}),i("tui-nomore",{attrs:{visible:t.page.isMore}})],1)},o=[]},7788:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".container[data-v-6a719f31]{padding-bottom:env(safe-area-inset-bottom)}.tui-order-list[data-v-6a719f31]{margin-top:%?80?%}.tui-order-item[data-v-6a719f31]{margin-top:%?20?%;border-radius:%?10?%;overflow:hidden}.tui-goods-title[data-v-6a719f31]{width:100%;font-size:%?28?%;display:flex;align-items:center;justify-content:space-between}.tui-order-status[data-v-6a719f31]{color:#888;font-size:%?26?%}.tui-goods-item[data-v-6a719f31]{width:100%;padding:%?20?% %?30?%;box-sizing:border-box;display:flex;justify-content:space-between}.tui-goods-img[data-v-6a719f31]{width:%?180?%;height:%?180?%;display:block;flex-shrink:0}.tui-goods-center[data-v-6a719f31]{flex:1;padding:%?20?% %?8?%;box-sizing:border-box}.tui-goods-name[data-v-6a719f31]{max-width:%?310?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-size:%?26?%;line-height:%?32?%}.tui-goods-attr[data-v-6a719f31]{font-size:%?22?%;color:#888;line-height:%?32?%;padding-top:%?10?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.tui-price-right[data-v-6a719f31]{text-align:right;font-size:%?24?%;color:#888;line-height:%?30?%;padding-top:%?20?%}.tui-color-red[data-v-6a719f31]{color:#e41f19;padding-right:%?30?%}.tui-goods-price[data-v-6a719f31]{width:100%;display:flex;align-items:flex-end;justify-content:flex-end;font-size:%?24?%}.tui-size-24[data-v-6a719f31]{font-size:%?24?%;line-height:%?24?%}.tui-price-large[data-v-6a719f31]{font-size:%?32?%;line-height:%?30?%;font-weight:500}.tui-order-btn[data-v-6a719f31]{width:100%;display:flex;align-items:center;justify-content:flex-end;background:#fff;padding:%?10?% %?30?% %?20?%;box-sizing:border-box}.tui-btn-ml[data-v-6a719f31]{margin-left:%?20?%}",""]),t.exports=e},"7f4d":function(t,e,i){"use strict";i.r(e);var a=i("1679c"),n=i("f9a1");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("c70d");var s=i("f0c5"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"6a719f31",null,!1,a["a"],void 0);e["default"]=r.exports},9008:function(t,e,i){var a=i("7788");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("766aedf8",a,!0,{sourceMap:!1,shadowMode:!1})},c70d:function(t,e,i){"use strict";var a=i("9008"),n=i.n(a);n.a},c92b:function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("1c68")),o=a(i("8c17")),s=a(i("1304")),r=a(i("a196")),d=a(i("9b78")),u=a(i("9274")),l={components:{tuiTabs:n.default,tuiButton:o.default,tuiLoadmore:s.default,tuiNomore:r.default,tuiListCell:d.default,tuiSticky:u.default},data:function(){return{app:this.app,page:null,tabs:[{name:"全部"},{name:"待付款"},{name:"待发货"},{name:"已发货"},{name:"已完成"}],currentTab:0,pageIndex:1,loadding:!1,pullUpOn:!0,scrollTop:0}},computed:{getStatusText:function(){return function(t){return this.app.getStatusText(t)}}},methods:{onReload:function(){var t=this.currentTab;0==t&&(t=""),this.page=new this.app.page("api/order/me_order",{state:t}),this.page.next()},change:function(t){this.currentTab=t.index,this.onReload()},detail:function(t){var e=this.app.ed(t).index,i=this.page.data[e];this.app.go("/pages/me/me_order/me_order_detail",{order_no:i.order_no})},onProductDetail:function(t){var e=this.app.ed(t).sale_id;this.app.go("/pages/index/detail/detail",{user_id:e})},setOrderState:function(t){var e=this,i=this.app.ed(t).index,a=this.page.data[i];this.app.msgSys("完成订单后，订单款项会立即打入商家账号",(function(t){t&&e.app.post("api/order/set_order_state",{order_no:a.order_no,state:"4"},(function(t){"0"==t.code?(e.app.toast("订单完成"),e.onReload()):e.app.toast(t.data)}))}))},onRef:function(){var t=this;this.page.refresh((function(){t.app.toast("刷新")}))}},onLoad:function(){},onShow:function(){this.onReload()},onPullDownRefresh:function(){var t=this;this.page.reload((function(){uni.stopPullDownRefresh(),t.app.toast("刷新成功")}))},onReachBottom:function(){this.page.next()},onPageScroll:function(t){this.scrollTop=t.scrollTop}};e.default=l},f9a1:function(t,e,i){"use strict";i.r(e);var a=i("c92b"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);