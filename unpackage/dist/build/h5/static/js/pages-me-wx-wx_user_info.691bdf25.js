(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-wx-wx_user_info"],{"096b":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".avatar-wx[data-v-7daf320c]{width:%?200?%;height:%?200?%;display:block;border-radius:10%}",""]),t.exports=e},3975:function(t,e,a){"use strict";a.r(e);var n=a("e34f"),i=a("ca0f");for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("63e8");var o=a("f0c5"),c=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"7daf320c",null,!1,n["a"],void 0);e["default"]=c.exports},"63e8":function(t,e,a){"use strict";var n=a("a9b4"),i=a.n(n);i.a},a9b4:function(t,e,a){var n=a("096b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("8d647f9c",n,!0,{sourceMap:!1,shadowMode:!1})},c96b:function(t,e,a){"use strict";(function(t){a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),s={data:function(){return{app:this.app,me:{}}},methods:{reload:function(){var t=this;this.app.post("api/user/info",{},(function(e){t.me=e}))},onSave:function(t){var e=this;this.app.post("api/user/save",(0,i.default)({},this.me),(function(a){e.reload(),t?t():e.app.toast("保存成功")}))},onDelWx:function(t){var e=this;this.me.wx_openid="",this.me.wx_avatar="",this.me.wx_nickname="",this.onSave((function(){e.app.toast("已解除绑定")}))},onWxUserInfo:function(){var e=this;this.app.getWxOpenid((function(a){e.me.wx_openid=a.openid,e.app.getUserInfo((function(a){e.me.type_avatar="2",e.me.wx_avatar=a.avatarUrl,e.me.wx_nickname=a.nickName,e.me.gender=a.gender,e.me.union_id=a.unionId,e.me.city=a.city,e.me.country=a.country,e.me.province=a.province,e.onSave((function(){e.app.toast("微信绑定成功")})),t("log",a," at pages/me/wx/wx_user_info.vue:99")}))}))}},onLoad:function(){this.reload()}};e.default=s}).call(this,a("0de9")["log"])},ca0f:function(t,e,a){"use strict";a.r(e);var n=a("c96b"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},e34f:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"cols text-color-6 mt-lg mb-lg"},[a("v-uni-view",{staticClass:"text-center-h"},[t.me.wx_avatar?a("v-uni-image",{staticClass:"avatar-wx",attrs:{src:t.me.wx_avatar}}):a("v-uni-image",{staticClass:"avatar-wx",attrs:{src:"/static/images/icon_wx.png"}})],1),t.me.wx_nickname?a("v-uni-view",{staticClass:"text-center-h pt"},[t._v(t._s(t.me.wx_nickname))]):a("v-uni-view",{staticClass:"text-center-h pt text-color-9"},[t._v("绑定微信用于收款")])],1),a("v-uni-view",{staticClass:"box ml mr"},[a("v-uni-view",{staticClass:"text-center-h"},[t._v("微信ID (用于收款)")]),a("v-uni-view",{staticClass:"text-center-h cols"},[t.me.wx_openid?a("v-uni-view",{staticClass:"text-center-h text-color-9 text-xs"},[t._v(t._s(t.me.wx_openid))]):a("v-uni-view",{staticClass:"text-center-h text-color-9 text-sm"},[t._v("绑定后生成微信开放ID")])],1)],1),a("v-uni-view",{staticClass:"box",staticStyle:{padding:"100rpx 20rpx 0 20rpx"}},[t.me.wx_openid?a("v-uni-button",{staticClass:"btn-danger",staticStyle:{width:"40vw"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onDelWx.apply(void 0,arguments)}}},[t._v("解除绑定")]):a("v-uni-button",{staticClass:"btn-disabled",staticStyle:{width:"40vw"}},[t._v("解除绑定")]),t.me.wx_openid?a("v-uni-button",{staticClass:" btn-disabled",staticStyle:{width:"40vw"}},[t._v("微信绑定")]):a("v-uni-button",{staticClass:"btn-success ",staticStyle:{width:"40vw"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onWxUserInfo.apply(void 0,arguments)}}},[t._v("微信绑定")])],1)],1)},i=[]}}]);