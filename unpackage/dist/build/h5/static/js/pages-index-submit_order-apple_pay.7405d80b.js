(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-submit_order-apple_pay"],{"1edd":function(e,n,t){"use strict";t.r(n);var i=t("5985"),a=t("9a1d");for(var u in a)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(u);var r=t("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"0da52aef",null,!1,i["a"],void 0);n["default"]=s.exports},5985:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){}));var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[t("v-uni-view",{staticClass:"uni-list"},[t("v-uni-radio-group",{on:{change:function(n){arguments[0]=n=e.$handleEvent(n),e.applePriceChange.apply(void 0,arguments)}}},e._l(e.priceList,(function(n,i){return t("v-uni-label",{key:i,staticClass:"uni-list-cell uni-list-cell-pd"},[e._v(e._s(n.text)),t("v-uni-radio",{attrs:{value:n.value,checked:n.checked}})],1)})),1)],1),t("v-uni-view",{staticClass:"uni-padding-wrap"},[t("v-uni-button",{staticClass:"ipaPayBtn",attrs:{loading:e.loading,disabled:e.disabled},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.requestPayment.apply(void 0,arguments)}}},[e._v("确认支付")])],1),t("v-uni-view",{staticClass:"uni-padding-wrap"},[t("v-uni-button",{staticClass:"ipaPayBtn",attrs:{loading:e.loading},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.requestPaymentTest.apply(void 0,arguments)}}},[e._v("支付")])],1)],1)},a=[]},"9a1d":function(e,n,t){"use strict";t.r(n);var i=t("9b07"),a=t.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(u);n["default"]=a.a},"9b07":function(e,n,t){"use strict";(function(e){t("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("e9c4");var i=null,a="plus001",u=["plus001","plus003","plus006","plus012"],r={data:function(){return{title:"request-payment",loading:!1,disabled:!0,priceList:[{value:"plus001",text:"支付5元",checked:!0},{value:"plus003",text:"支付15元",checked:!1},{value:"plus006",text:"支付30元",checked:!1},{value:"plus012",text:"支付50元",checked:!1}]}},onLoad:function(){var n=this;plus.payment.getChannels((function(t){for(var a in e("log","获取到channel"+JSON.stringify(t)," at pages/index/submit_order/apple_pay.vue:55"),t){var u=t[a];"appleiap"===u.id&&(i=u,n.requestOrder())}i||n.errorMsg()}),(function(e){n.errorMsg()}))},methods:{requestPaymentTest:function(){var n=this;plus.payment.getChannels((function(t){for(var a in e("log","获取到channel"+JSON.stringify(t)," at pages/index/submit_order/apple_pay.vue:73"),t){var u=t[a];"appleiap"===u.id&&(i=u,n.requestOrder())}i||n.errorMsg()}),(function(e){uni.showModal({content:n.app.toJson(e),showCancel:!1})}))},requestOrder:function(){var n=this;uni.showLoading({title:"检测支付环境..."}),i.requestOrder(u,(function(t){n.disabled=!1,e("log","requestOrder success666: "+JSON.stringify(t)," at pages/index/submit_order/apple_pay.vue:101"),uni.hideLoading()}),(function(t){e("log","requestOrder failed: "+JSON.stringify(t)," at pages/index/submit_order/apple_pay.vue:104"),uni.hideLoading(),n.errorMsg()}))},requestPayment:function(n){var t=this;this.loading=!0,uni.requestPayment({provider:"appleiap",orderInfo:{productid:a},success:function(e){uni.showModal({content:"感谢您的赞助",showCancel:!1})},fail:function(e){uni.showModal({content:"支付失败,原因为: "+e.errMsg,showCancel:!1})},complete:function(){e("log","payment结束"," at pages/index/submit_order/apple_pay.vue:129"),t.loading=!1}})},applePriceChange:function(e){a=e.detail.value},errorMsg:function(){uni.showModal({content:"暂不支持苹果 iap 支付",showCancel:!1})}}};n.default=r}).call(this,t("0de9")["log"])}}]);