(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-friend-friend_back_view"],{"1cd3":function(t,e,i){"use strict";var n=i("d8bc"),a=i.n(n);a.a},2089:function(t,e,i){"use strict";i.r(e);var n=i("2b05"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"2b05":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"tuiBadge",props:{type:{type:String,default:"primary"},size:{type:String,default:""},dot:{type:Boolean,default:!1},visible:{type:Boolean,default:!0}}};e.default=n},"348f":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={viveBackTop:i("9d99").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-page "},[i("v-uni-view",{staticClass:"top search-top-up"},[i("v-uni-view",{staticClass:"tui-searchbox"},[null!=t.search_text&&""!=t.search_text?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSearch.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:"search",size:16,color:"#333"}})],1):t._e(),i("v-uni-view",{staticClass:"tui-search-input",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[i("v-uni-input",{staticClass:"tui-search-text text-center",attrs:{placeholder:"请输入搜索内容"},model:{value:t.search_text,callback:function(e){t.search_text="string"===typeof e?e.trim():e},expression:"search_text"}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.search_text,expression:"search_text"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cleanSearchText.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:"close-fill",size:16,color:"#bcbcbc"}})],1),null!=t.search_text&&""!=t.search_text?i("v-uni-view",{staticClass:"tui-cancle",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSearch.apply(void 0,arguments)}}},[t._v("搜索")]):t._e()],1)],1),i("v-uni-view",{staticClass:"search-top-down"}),i("v-uni-view",{staticClass:"tui-scrollList",attrs:{"enable-back-to-top":!0,"scroll-y":!0,"scroll-into-view":t.scrollViewId,"refresher-enabled":!1,"refresher-triggered":t.is_triggered},on:{refresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onRefreshFriend.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-list city-list"},[t._l(t.lists,(function(e,n){return[e.letter?i("v-uni-view",{key:n+"_0",staticClass:"tui-list-cell-divider",class:e.letter,attrs:{id:e.letter}},[t._v(t._s(e.letter))]):t._e(),t._l(e.data,(function(a,s){return i("v-uni-view",{key:s+"_"+n+"_1",attrs:{"data-user_id":a.user_id,"data-nickname":a.nickname},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.detail.apply(void 0,arguments)},longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.onDelFriend.apply(void 0,arguments)}}},[i("tui-cell",{attrs:{last:t.last(e.data,s)}},[i("v-uni-image",{staticClass:"avatar-wx-item",attrs:{src:a.avatar,mode:"scaleToFill"}}),i("v-uni-view",{staticClass:"tui-msg-item pl"},[i("v-uni-view",{staticClass:"tui-msg-name"},[t._v(t._s(a.nickname))]),i("v-uni-view",{staticClass:"tui-msg-name text-sm text-color-9"},[t._v(t._s(a.company_name)+"\n\t\t\t\t\t\t\t\t"+t._s(a.company_server_name))]),"0"==a.type?i("v-uni-view",{staticClass:"tui-msg-content"},[t._v(t._s(a.text))]):t._e(),"1"==a.type?i("v-uni-view",{staticClass:"tui-msg-content tui-msg-content-type"},[t._v("图片")]):t._e(),"2"==a.type?i("v-uni-view",{staticClass:"tui-msg-content tui-msg-content-type"},[t._v("语音")]):t._e(),"3"==a.type?i("v-uni-view",{staticClass:"tui-msg-content tui-msg-content-type"},[t._v("短视频")]):t._e(),"4"==a.type?i("v-uni-view",{staticClass:"tui-msg-content tui-msg-content-type"},[t._v("发起语音通话")]):t._e(),"5"==a.type?i("v-uni-view",{staticClass:"tui-msg-content tui-msg-content-type"},[t._v("发起视频通话")]):t._e()],1),i("v-uni-view",{staticClass:"tui-msg-right",class:[3==a.level?"tui-right-dot":""]},[i("v-uni-view",{staticClass:"tui-msg-time"},[t._v(t._s(a.time))]),a.sum_is_no_read>0?i("tui-badge",{attrs:{type:2==a.level?"gray":"danger",dot:3==a.level}},[t._v(t._s(a.sum_is_no_read))]):t._e()],1)],1)],1)}))]}))],2),i("v-uni-view",{staticClass:"tui-footer"},[t._v(t._s(t.list_count)+"位联系人")]),i("v-uni-view",{staticClass:"tui-safearea-bottom"}),i("v-uni-view",{staticStyle:{height:"200rpx"}})],1),i("v-uni-view",{staticClass:" tui-indexed-list-bar",style:{height:t.indexBarHeight+"px"},on:{touchstart:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)},touchcancel:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchCancel.apply(void 0,arguments)}}},t._l(t.lists,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tui-indexed-list-text",style:{height:t.indexBarItemHeight+"px"}},[t._v(t._s("well"==e.letter?"#":e.letter))])})),1),t.touchmove&&t.lists[t.touchmoveIndex].letter?i("v-uni-view",{staticClass:"tui-indexed-list-alert"},[i("v-uni-text",[t._v(t._s("well"==t.lists[t.touchmoveIndex].letter?"#":t.lists[t.touchmoveIndex].letter))])],1):t._e(),i("vive-back-top")],1)},s=[]},"3fa8":function(t,e,i){"use strict";i.r(e);var n=i("7e09"),a=i("2089");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("1cd3");var o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"05ca4db2",null,!1,n["a"],void 0);e["default"]=c.exports},"4f82":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* color start*/.tui-primary[data-v-05ca4db2]{background:#5677fc;color:#fff}.tui-danger[data-v-05ca4db2]{background:#ed3f14;color:#fff}.tui-red[data-v-05ca4db2]{background:#ff201f;color:#fff}.tui-warning[data-v-05ca4db2]{background:#ff7900;color:#fff}.tui-green[data-v-05ca4db2]{background:#19be6b;color:#fff}.tui-white[data-v-05ca4db2]{background:#fff;color:#333}.tui-black[data-v-05ca4db2]{background:#000;color:#fff}.tui-gray[data-v-05ca4db2]{background:#ededed!important;color:#999!important}\n\n/* color end*/\n\n/* badge start*/.tui-badge-dot[data-v-05ca4db2]{height:8px;width:8px;border-radius:4px;line-height:1}.tui-badge[data-v-05ca4db2]{font-size:12px;line-height:1;padding:3px 6px;border-radius:50px}.tui-badge-small[data-v-05ca4db2]{-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:center center;transform-origin:center center}\n\n/* badge end*/",""]),t.exports=e},"7e09":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("v-uni-view",{staticClass:"tui-badge-class",class:[this.dot?"tui-badge-dot":"tui-badge","tui-"+this.type,this.size?"tui-badge-small":""]},[this._t("default")],2):this._e()},a=[]},"944d":function(t,e,i){var n=i("aaa9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("8ae025c6",n,!0,{sourceMap:!1,shadowMode:!1})},aaa9:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-22433988]{background:#f5f6fa\n\t/* height: 100%; */\n\t/* overflow: hidden; */}body.?%PAGE?%[data-v-22433988]{background:#f5f6fa}.tui-page[data-v-22433988]{height:100%;overflow:hidden}.tui-scrollList[data-v-22433988]{flex:1}\n\n/*searchbox*/.tui-searchbox[data-v-22433988]{width:100%;height:%?100?%;padding:0 %?30?%;box-sizing:border-box;background:#fff;display:flex;align-items:center;justify-content:center;position:relative}.tui-search-input[data-v-22433988]{width:100%;height:%?72?%;background:#f5f6fa;border-radius:%?36?%;font-size:%?30?%;color:#a8abb8;display:flex;align-items:center;justify-content:center}.tui-search-text[data-v-22433988]{padding-left:%?16?%}\n\n/*searchbox*/.tui-cell-class[data-v-22433988]::after{left:%?140?%!important}.tui-img[data-v-22433988]{width:%?80?%;height:%?80?%;border-radius:50%}.tui-name[data-v-22433988]{width:80%;padding-left:%?30?%;font-size:%?34?%;color:#333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.tui-list-cell-divider[data-v-22433988]{height:%?66?%;padding-left:%?30?%;font-size:%?26?%;color:#555;background:#f5f6fa;padding:0 %?30?%;display:flex;align-items:center;font-weight:700}.tui-indexed-list-bar[data-v-22433988]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;z-index:9999;position:fixed;\n\t/* top: 132rpx; */top:%?232?%;right:0;padding-right:%?10?%;width:%?44?%;color:#555;font-weight:700}.tui-indexed-list-text[data-v-22433988]{font-size:%?22?%}.tui-indexed-list-alert[data-v-22433988]{position:fixed;z-index:20;width:%?120?%;height:%?120?%;right:%?90?%;top:50%;margin-top:%?-60?%;border-radius:%?24?%;font-size:%?50?%;color:#fff;background-color:rgba(0,0,0,.65);display:flex;justify-content:center;align-items:center;padding:0}.tui-indexed-list-alert uni-text[data-v-22433988]{line-height:%?50?%}.tui-footer[data-v-22433988]{padding:%?30?% 0;display:flex;align-items:center;justify-content:center;font-size:%?30?%;color:#999}.tui-safearea-bottom[data-v-22433988]{width:100%;height:env(safe-area-inset-bottom)}.tui-msg-item[data-v-22433988]{max-width:%?500?%;min-height:%?80?%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}.tui-msg-content[data-v-22433988]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:%?28?%;line-height:1;color:#9397a4}.tui-msg-content-type[data-v-22433988]{color:#5cd492}.tui-msg-right[data-v-22433988]{max-width:%?120?%;\n\t/* height: 88upx; */margin-left:auto;text-align:right;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}.tui-msg-right.tui-right-dot[data-v-22433988]{height:%?76?%;padding-bottom:%?10?%}.tui-msg-time[data-v-22433988]{width:100%;font-size:%?24?%;line-height:%?24?%;color:#9397a4}",""]),t.exports=e},b10f:function(t,e,i){"use strict";var n=i("944d"),a=i.n(n);a.a},b561:function(t,e,i){"use strict";i.r(e);var n=i("348f"),a=i("be30");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("b10f");var o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"22433988",null,!1,n["a"],void 0);e["default"]=c.exports},be30:function(t,e,i){"use strict";i.r(e);var n=i("fc6d"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},d8bc:function(t,e,i){var n=i("4f82");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("af1dc268",n,!0,{sourceMap:!1,shadowMode:!1})},fc6d:function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f");var a=n(i("2ac2")),s=n(i("9b78")),o=n(i("3fa8")),c=n(i("9d99")),r=(i("9c4c"),{components:{tuiIcon:a.default,tuiBadge:o.default,tuiCell:s.default,viveBackTop:c.default},computed:{last:function(){return function(t,e){return t.length-1==e}}},data:function(){return{lists:[],touchmove:!1,touchmoveIndex:-1,titleHeight:0,indexBarHeight:0,indexBarItemHeight:0,scrollViewId:"",winHeight:0,search_text:"",list_count:"",list_count_is:"",time_del_start:-1,time_del_end:-1,touch_del_y:-1,touch_del_y_end:-1,is_triggered:!1}},onLoad:function(t){var e=this;setTimeout((function(){uni.getSystemInfo({success:function(t){var i=t.windowHeight,n=i-uni.upx2px(232);e.winHeight=i,e.indexBarHeight=n,e.indexBarItemHeight=n/25,e.titleHeight=uni.upx2px(132)}})}),10),this.app.setTitle("合作商")},onShow:function(){var t=this;this.app.checkUser(),this.onSearch(),this.app.checkDid(),this.app.loopTask((function(e){e.count>0&&t.onSearch()}))},methods:{cleanSearchText:function(){this.search_text="",this.onSearch()},touchStart:function(e){this.touchmove=!0;var i=e.touches[0].clientY,n=Math.floor((i-this.titleHeight)/this.indexBarItemHeight),a=this.lists[n];return a&&(this.scrollViewId=a.letter,this.touchmoveIndex=n),a&&(this.scrollViewId=a.letter,this.touchmoveIndex=n,this.$nextTick((function(){var e=uni.createSelectorQuery().in(this);e.select("#"+a.letter).fields({size:!0,rect:!0,scrollOffset:!0},(function(e){t("log",e," at pages/friend/friend_back_view.vue:196"),uni.pageScrollTo({duration:300,scrollTop:e.top+134})})).exec()}))),!0},touchMove:function(t){var e=t.touches[0].clientY,i=Math.floor((e-this.titleHeight)/this.indexBarItemHeight);this.lists[i];return!0},touchEnd:function(){return this.touchmove=!1,this.touchmoveIndex=-1,!0},touchCancel:function(){return this.touchmove=!1,this.touchmoveIndex=-1,!0},search:function(){uni.navigateTo({url:"../news-search/news-search"})},detail:function(t){var e=this.app.ed(t).user_id;this.app.go("/pages/index/detail/detail",{user_id:e})},onSearch:function(t){var e=this;this.app.post("api/chat_contact/list_group?XDEBUG_SESSION_START=15559",{search_text:this.search_text},(function(i){e.lists=i.list,e.list_count=i.list_count,e.list_count_is=i.list_count_is,t&&t()}))},onVerify:function(){this.app.go("/pages/friend/verify")},onDelFriend:function(t){var e=this;this.app.message("确定删除",this.app.ed(t).nickname,(function(i){if(i){var n=e.app.ed(t).user_id;e.app.post("api/chat_contact/del_float",{user_id:n},(function(t){"0"==t.code?(e.app.toast(t.data),e.onSearch()):e.app.toast(t.data)}))}}))},onDelStart:function(t){this.time_del_start=this.app.newDate().getTime(),this.touch_del_y=t.changedTouches[0].clientY},onDelEnd:function(t){var e=this;this.touch_del_y_end=t.changedTouches[0].clientY,Math.abs(this.touch_del_y-this.touch_del_y_end)>30||(this.time_del_end=this.app.newDate().getTime(),this.time_del_end-this.time_del_start>500&&this.app.message("确定删除",this.app.ed(t).nickname,(function(i){if(i){var n=e.app.ed(t).user_id;e.app.post("api/chat_contact/del_float",{user_id:n},(function(t){"0"==t.code?(e.app.toast(t.data),e.onSearch()):e.app.toast(t.data)}))}})))},onDelMove:function(t){this.touch_del_y_end=t.changedTouches[0].clientY},onRefreshFriend:function(t){var e=this,i=this;i.is_triggered||(i.is_triggered=!0,setTimeout((function(){i.onSearch((function(){e.is_triggered=!1,e.app.stopPullDownRefresh(),i.$forceUpdate()}))}),1e3))}},onPullDownRefresh:function(){var t=this;this.onSearch((function(){t.app.stopPullDownRefresh(),t.app.toast("刷新成功")}))}});e.default=r}).call(this,i("0de9")["log"])}}]);